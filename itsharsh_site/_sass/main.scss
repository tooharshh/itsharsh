// CSS Variables for theme colors
:root {
    --bg-color: #FFFAFA;
    --text-color: #212427;
    --text-secondary: #586069;
    --border-color: #2c3136;
    --underline-color: #212427;
}

// Dark mode colors
body.dark-mode,
html.dark-mode body { 
    --bg-color: #212427;
    --text-color: #FFFAFA;
    --text-secondary: #9da5b4;
    --border-color: #FFFAFA;
    --underline-color: #FFFAFA;
}

* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

/* 
 * BODY ELEMENT - Base Styling
 * 
 * FONT LOADING OPTIMIZATION:
 * - Space Mono loaded from Google Fonts with display=swap parameter
 * - display=swap prevents FOIT (Flash of Invisible Text)
 * - Shows system monospace immediately, swaps when web font loads
 * - No layout shift since both are monospace fonts
 * 
 * FONT STACK:
 * - Primary: "Space Mono" (custom web font from Google Fonts)
 * - Fallback: monospace (system font - Courier, Consolas, Menlo, Monaco)
 * - Matching metrics prevent layout shift during font swap
 * 
 * THEME TRANSITIONS:
 * - Smooth color transitions for light/dark mode switching
 * - Only animates color properties for performance
 * - 0.3s duration provides perceptible but not sluggish transition
 */
body {
    font-family: "Space Mono", monospace;
    background-color: var(--bg-color);
    color: var(--text-color);
    line-height: 1.6;
    font-size: 16px;
    transition: background-color 0.3s ease, color 0.3s ease;
}

/* 
 * OUTER BORDER CONTAINER
 * This creates the signature "boxed" design that makes the site feel like a personal space
 * - 3px dotted border gives the minimalist, hand-crafted aesthetic
 * - Border color automatically switches between light/dark mode via CSS variables
 * - Border radius softens the corners for a friendlier appearance
 * - Smooth transition when theme changes prevents jarring visual shifts
 * - min-height ensures the box always fills the viewport
 * - Padding creates breathing room between content and border
 * - Margin separates the border from the browser edges
 */
.outer-border {
    min-height: 100vh;
    padding: 1.5rem;
    margin: 1rem;
    border: 3px dotted var(--border-color);
    border-radius: 8px;
    transition: border-color 0.3s ease;
}

.container {
    max-width: 800px;
    margin: 0 auto;
    padding: 0 1rem;
}

.site-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 2rem;
    padding: 1.5rem 0 1rem 0;
    border-bottom: 2px dotted var(--border-color);
    flex-wrap: wrap;
}

.navigation {
    display: flex;
    gap: 1.5rem;
    flex-wrap: wrap;
}

/* 
 * NAVIGATION LINKS
 * Accessible navigation with proper focus states for keyboard users
 * - Smooth color transitions for hover states
 * - Visible focus indicators meet WCAG 2.1 AA standards (minimum 2px outline)
 * - :focus-visible pseudo-class ensures focus only shows for keyboard navigation
 * - This prevents unwanted focus rings when clicking with a mouse
 * - Border-radius on focus outline matches the modern, friendly aesthetic
 */
.nav-link {
    color: var(--text-color);
    text-decoration: none;
    font-weight: 400;
    transition: color 0.2s ease;
    position: relative;

    &:hover {
        color: var(--text-secondary);
    }

    &.active {
        font-weight: 600;
        color: var(--text-color);
    }

    /* 
     * KEYBOARD FOCUS STYLES
     * Visible outline for keyboard navigation (Tab key)
     * - 2px solid outline meets accessibility standards
     * - 2px offset creates breathing room between text and outline
     * - Uses primary text color for high contrast
     */
    &:focus {
        outline: 2px solid var(--text-color);
        outline-offset: 2px;
        border-radius: 2px;
    }

    /* 
     * FOCUS-VISIBLE ENHANCEMENT
     * Modern browsers support :focus-visible which only shows focus
     * when user navigates with keyboard (not mouse clicks)
     * This provides better UX by hiding outline on mouse interaction
     */
    &:focus:not(:focus-visible) {
        outline: none;
    }
}

.header-actions {
    display: flex;
    align-items: center;
    gap: 1.5rem;
}

/* 
 * THEME TOGGLE BUTTON
 * Interactive button for switching between light and dark modes
 * - Transparent border by default, visible on hover for subtle feedback
 * - Scale transforms provide tactile-feeling interaction
 * - Smooth transitions on all properties for polished experience
 * - Accessible focus states for keyboard navigation
 * - Position relative enables absolute positioning of icons for smooth animation
 */
.theme-toggle {
    background: none;
    border: none;
    cursor: pointer;
    padding: 8px;
    border-radius: 6px;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all 0.3s ease;
    color: var(--text-color);
    border: 1px dotted transparent;
    position: relative; /* Enables absolute positioning of child icons */
    width: 32px;  /* Fixed width for consistent icon overlay */
    height: 32px; /* Fixed height for consistent icon overlay */

    &:hover {
        background-color: var(--border-color);
        transform: scale(1.1);
        border-color: var(--border-color);
    }

    &:active {
        transform: scale(0.95);
    }

    /* 
     * KEYBOARD FOCUS STYLES
     * High-contrast shadow-based focus indicator for button
     * - Box-shadow used instead of outline for circular button shapes
     * - 2px solid shadow meets WCAG 2.1 AA contrast requirements
     * - Secondary color provides sufficient contrast in both themes
     * - Removes default browser outline for custom styling
     */
    &:focus {
        outline: none;
        box-shadow: 0 0 0 2px var(--text-secondary);
    }

    /* 
     * FOCUS-VISIBLE ENHANCEMENT
     * Only show focus ring when keyboard navigating
     * Improves UX by not showing focus ring on mouse clicks
     */
    &:focus:not(:focus-visible) {
        box-shadow: none;
    }
}

/* 
 * THEME TOGGLE ICONS (Sun and Moon SVGs)
 * Smooth animations for theme switching visual feedback
 * - Icon rotation provides satisfying transition between themes
 * - Opacity fade prevents abrupt appearance/disappearance
 * - Position absolute allows icons to overlay during transition
 * - Transform and opacity animations run simultaneously for smooth effect
 * 
 * ANIMATION STRATEGY:
 * Instead of display:none (instant), we use:
 * 1. Opacity: 0 → 1 (fade in/out)
 * 2. Transform: rotate(180deg) → rotate(0) (spinning effect)
 * 3. Position absolute (allows smooth overlay transition)
 */
.theme-icon {
    transition: opacity 0.3s ease, transform 0.3s ease;
    
    /* 
     * HIDDEN STATE
     * When icon is not active:
     * - Opacity 0 makes it invisible but keeps it in DOM
     * - Transform rotates it 180deg for spinning animation
     * - Position absolute overlays icons during transition
     * - Pointer-events none prevents interaction when invisible
     */
    &.hidden {
        opacity: 0;
        transform: rotate(180deg);
        position: absolute;
        pointer-events: none;
    }
}

.social-links {
    display: flex;
    gap: 1rem;
    flex-wrap: wrap;
}

/* 
 * SOCIAL LINKS
 * GitHub and LinkedIn profile links
 * - Subtle secondary color by default for visual hierarchy
 * - Transitions to primary color on hover for feedback
 * - Accessible focus states for keyboard navigation
 * - Slightly smaller font size (14px) to distinguish from main navigation
 */
.social-link {
    color: var(--text-secondary);
    text-decoration: none;
    font-size: 14px;
    transition: color 0.2s ease;

    &:hover {
        color: var(--text-color);
    }

    /* 
     * KEYBOARD FOCUS STYLES
     * Clear focus indicator for social media links
     * - Uses secondary color for visual distinction from main nav
     * - 2px offset creates space between text and outline
     * - Border-radius softens the focus rectangle
     */
    &:focus {
        outline: 2px solid var(--text-secondary);
        outline-offset: 2px;
        border-radius: 2px;
    }

    /* 
     * FOCUS-VISIBLE ENHANCEMENT
     * Hide focus outline when clicking with mouse
     * Only show when navigating with keyboard (Tab key)
     */
    &:focus:not(:focus-visible) {
        outline: none;
    }
}

.content {
    margin-bottom: 2rem;
}

.hero {
    text-align: center;
    padding: 4rem 0;
}

.hero-greeting {
    font-size: 4rem;
    font-weight: 600;
    margin-bottom: 2rem;
    color: var(--text-color);
}

.underline {
    text-decoration: underline;
    text-decoration-color: var(--underline-color);
    text-decoration-thickness: 2px;
    text-underline-offset: 4px;
}

h1 {
    font-size: 2rem;
    font-weight: 600;
    margin-bottom: 1rem;
    color: var(--text-color);
}

h2 {
    font-size: 1.5rem;
    font-weight: 600;
    margin-bottom: 1rem;
    margin-top: 2rem;
    color: var(--text-color);
}

h3 {
    font-size: 1.25rem;
    font-weight: 600;
    margin-bottom: 0.5rem;
    color: var(--text-color);
}

p {
    margin-bottom: 1rem;
    color: var(--text-color);
}

ul {
    margin-bottom: 1rem;
    padding-left: 1.5rem;
}

li {
    margin-bottom: 0.5rem;
    color: var(--text-color);
}

/* 
 * GENERAL LINKS
 * Default styling for all content links (in paragraphs, project cards, etc.)
 * - Underlined by default for clear affordance (users know it's clickable)
 * - Color transitions on hover for interactive feedback
 * - Accessible focus states for keyboard navigation
 * - These styles apply to links in project descriptions, paper titles, etc.
 */
a {
    color: var(--text-color);
    text-decoration: underline;

    &:hover {
        color: var(--text-secondary);
    }

    /* 
     * KEYBOARD FOCUS STYLES FOR CONTENT LINKS
     * High-contrast focus indicator for all clickable links
     * - 2px outline ensures visibility across both light/dark themes
     * - 2px offset prevents overlap with underline decoration
     * - Primary text color ensures sufficient contrast
     * - Rounded corners match overall design aesthetic
     */
    &:focus {
        outline: 2px solid var(--text-color);
        outline-offset: 2px;
        border-radius: 2px;
    }

    /* 
     * FOCUS-VISIBLE ENHANCEMENT
     * Progressive enhancement for modern browsers
     * Focus ring only appears for keyboard navigation
     * Removes unnecessary visual noise when clicking with mouse
     */
    &:focus:not(:focus-visible) {
        outline: none;
    }
}

.coming-soon {
    font-style: italic;
    color: var(--text-secondary);
    margin-top: 1rem;
}

.intro {
    font-size: 1.1rem;
    margin-bottom: 2rem;
}

.experience-section {
    margin-top: 2rem;
}

.experience-item {
    border: 2px dotted var(--border-color);
    padding: 1.5rem;
    border-radius: 6px;
    margin-bottom: 2rem;
    background-color: var(--bg-color);
    transition: all 0.3s ease;

    &:hover {
        border-style: dashed;
        border-color: var(--text-secondary);
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
        transform: translateY(-1px);
    }

    h2 {
        margin-bottom: 0.5rem;
        margin-top: 0;
        font-size: 1.4rem;
        font-weight: 600;
        color: var(--text-color);
    }
    
    .duration {
        color: var(--text-secondary);
        font-size: 0.9rem;
        margin-bottom: 1rem;
        margin-top: 0;
        font-weight: normal;
    }
}

.role-info {
    font-size: 1rem;
    
    p {
        margin-bottom: 0.75rem;
        line-height: 1.5;
        
        &:last-child {
            margin-bottom: 0;
        }
    }
    
    .role, .duration {
        font-size: 0.95rem;
        color: var(--text-secondary);
    }
    
    .description {
        font-size: 1rem;
        color: var(--text-color);
        margin-top: 0.5rem;
        font-style: italic;
    }
}

// Dark mode adjustments
body.dark-mode .experience-item:hover,
html.dark-mode body .experience-item:hover {
    box-shadow: 0 2px 8px rgba(255, 255, 255, 0.08);
}

.projects-grid {
    display: grid;
    grid-template-columns: 1fr;
    gap: 1rem;
    margin-top: 2rem;
}

.project-card {
    border: 2px dotted var(--border-color);
    padding: 1.5rem;
    border-radius: 6px;
    margin-bottom: 2rem;
    background-color: var(--bg-color);
    transition: all 0.3s ease;

    &:hover {
        border-style: dashed;
        border-color: var(--text-secondary);
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
        transform: translateY(-1px);
    }

    h3 {
        margin-bottom: 1rem;
        margin-top: 0;
    }

    p {
        margin-bottom: 0;
        color: var(--text-secondary);
    }
}

// Dark mode adjustments
body.dark-mode .project-card:hover,
html.dark-mode body .project-card:hover {
    box-shadow: 0 2px 8px rgba(255, 255, 255, 0.08);
}

/* 
 * PAPERS SECTION STYLING
 * Card-based layout for research papers, matching the projects section design
 * Uses CSS Grid for responsive card placement with consistent spacing
 */
.papers-grid {
    display: grid;
    /* 
     * Single column by default for mobile-first approach
     * Gap creates consistent spacing between paper cards
     */
    grid-template-columns: 1fr;
    gap: 2rem;
    margin-bottom: 2rem;
}

/* 
 * PAPER CARD COMPONENT
 * Individual paper container with dotted border (matching project cards)
 * Features hover effects for better interaction feedback
 * Includes smooth transitions for professional appearance
 */
.paper-card {
    border: 2px dotted var(--text-color);
    padding: 1.5rem;
    margin-bottom: 2rem;
    background-color: var(--bg-color);
    /* 
     * Transition all properties for smooth hover effects
     * Border style, shadow, and transform all animate together
     */
    transition: all 0.3s ease;

    /* 
     * Hover state provides visual feedback for interactivity
     * Dashed border + subtle shadow + slight lift creates depth
     * Transform translateY(-1px) gives a "lifting" effect
     */
    &:hover {
        border-style: dashed;
        border-color: var(--text-secondary);
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
        transform: translateY(-1px);
    }

    /* 
     * Paper title styling - consistent with project cards
     * Margin-bottom for spacing, margin-top 0 prevents double spacing
     */
    h3 {
        margin-bottom: 1rem;
        margin-top: 0;
    }

    /* 
     * Paper metadata paragraph (type, conference, year)
     * Secondary color for visual hierarchy
     * Bottom margin removed to prevent excessive spacing
     */
    .paper-meta {
        margin-bottom: 0.75rem;
        color: var(--text-secondary);
        font-size: 0.95rem;

        /* 
         * Conference links within metadata maintain underline style
         * Consistent with site's overall link treatment
         */
        a {
            color: var(--text-color);
            text-decoration: underline;

            &:hover {
                color: var(--text-secondary);
            }
        }
    }

    /* 
     * "Read Paper" link container
     * Provides clear call-to-action at bottom of each card
     */
    .paper-link {
        margin-bottom: 0;
        
        /* 
         * Underline class provides consistent link styling
         * Arrow (→) indicates external navigation
         */
        a {
            color: var(--text-color);
            font-weight: 500;
        }
    }
}

/* 
 * DARK MODE ADJUSTMENTS FOR PAPERS
 * Lighter shadow for dark backgrounds - improves visibility
 * Matches the dark mode treatment for project cards
 */
body.dark-mode .paper-card:hover,
html.dark-mode body .paper-card:hover {
    box-shadow: 0 2px 8px rgba(255, 255, 255, 0.08);
}

/* 
 * TABLET RESPONSIVE STYLES (768px and below)
 * Adjusts layout for medium-sized screens like tablets and small laptops
 */
@media (max-width: 768px) {
    /* 
     * HERO SECTION - Tablet optimization
     * Reduce hero greeting size from 4rem to 2.5rem for better readability
     * Prevent text from dominating the screen on smaller displays
     */
    .hero-greeting {
        font-size: 2.5rem;
        line-height: 1.2; // Tighter line height for better vertical rhythm
    }
    
    /* 
     * OUTER BORDER - Tablet adjustments
     * Reduce margin and padding to maximize usable screen space
     * Thinner border (2px) looks better on smaller screens
     */
    .outer-border {
        margin: 0.5rem;
        padding: 1rem;
        border-width: 2px;
    }
    
    /* 
     * INTRO SECTION - Typography scaling
     * Slightly reduce font size for better text flow on narrower screens
     */
    .intro {
        font-size: 1rem;
    }

    /* 
     * HEADER LAYOUT - Stack navigation vertically
     * On tablets, horizontal navigation becomes cramped
     * Stack elements vertically for better touch targets and readability
     */
    .site-header {
        flex-direction: column;
        gap: 1rem;
        align-items: flex-start;
    }

    .navigation {
        width: 100%;
        order: 1;
    }

    .header-actions {
        width: 100%;
        justify-content: space-between;
        order: 2;
    }

    .social-links {
        flex: 1;
    }

    .theme-toggle {
        margin-left: auto;
    }

    /* 
     * PAPERS GRID - Tablet responsive
     * Maintain single column layout for readability
     * Cards get full width to accommodate longer paper titles
     */
    .papers-grid {
        grid-template-columns: 1fr;
        gap: 1.5rem; // Slightly reduced gap to save vertical space
    }
}

/* 
 * MOBILE RESPONSIVE STYLES (480px and below)
 * Further optimizations for small mobile phones
 */
@media (max-width: 480px) {
    /* 
     * HERO SECTION - Mobile optimization
     * Further reduce hero greeting to 2rem for small phones
     * Prevents overwhelming the small screen with large text
     */
    .hero-greeting {
        font-size: 2rem;
    }
    
    /* 
     * NAVIGATION - Tighter spacing on mobile
     * Reduce gap between navigation links to fit better on narrow screens
     * Still maintains adequate touch target size for accessibility
     */
    .navigation {
        gap: 1rem;
    }
    
    /* 
     * OUTER BORDER - Minimal margins on mobile
     * On very small screens, maximize content area by reducing margins
     * Border width stays at 2px for visibility
     */
    .outer-border {
        margin: 0.25rem;
        padding: 0.75rem;
    }
    
    /* 
     * CONTENT CARDS - Full width on mobile
     * Experience items, project cards, and paper cards take full available width
     * Reduce padding to maximize content space without feeling cramped
     */
    .experience-item,
    .project-card,
    .paper-card {
        padding: 1rem;
    }

    /* 
     * PAPERS GRID - Mobile responsive
     * Single column layout maintained for mobile phones
     * Further reduced gap to save vertical scrolling space
     * Paper cards remain comfortable to tap and read
     */
    .papers-grid {
        grid-template-columns: 1fr;
        gap: 1rem;
    }
}

/* 
 * ==============================================================================
 * BLOG LINK PREVIEW STYLES
 * ==============================================================================
 * Styling for blog preview cards on /blogs/ page
 * Used to display external links to Notion-hosted blog posts
 * Matches the card style of projects and papers sections
 */
.blog-list {
    display: flex;
    flex-direction: column;
    gap: 2rem;
}

/* 
 * BLOG POST PREVIEW CARD
 * Compact card for blog post previews on index page
 * Same dotted border styling as projects and papers
 */
.blog-preview {
    border: 2px dotted var(--border-color);
    padding: 1.5rem;
    border-radius: 6px;
    background-color: var(--bg-color);
    transition: all 0.3s ease;
    
    &:hover {
        border-style: dashed;
        border-color: var(--text-secondary);
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
        transform: translateY(-1px);
    }
    
    /* 
     * PREVIEW TITLE
     * Clickable link to full post
     */
    .preview-title {
        font-size: 1.5rem;
        margin-bottom: 0.75rem;
        
        a {
            color: var(--text-color);
            text-decoration: none;
            
            &:hover {
                text-decoration: underline;
            }
        }
    }
    
    /* 
     * PREVIEW METADATA
     * Date and reading time in compact format
     */
    .preview-meta {
        font-size: 0.9rem;
        color: var(--text-secondary);
        margin-bottom: 1rem;
        display: flex;
        gap: 0.75rem;
        align-items: center;
    }
    
    /* 
     * PREVIEW EXCERPT
     * First paragraph or custom excerpt of the post
     * Gives readers a taste of the content
     */
    .preview-excerpt {
        color: var(--text-secondary);
        line-height: 1.6;
        margin-bottom: 1rem;
    }
    
    /* 
     * READ MORE LINK
     * Clear call-to-action to read the full post
     */
    .read-more {
        color: var(--text-color);
        text-decoration: underline;
        font-weight: 500;
        
        &:hover {
            color: var(--text-secondary);
        }
    }
}

/* 
 * DARK MODE ADJUSTMENTS FOR BLOG COMPONENTS
 * Lighter shadows for dark backgrounds
 */
body.dark-mode .blog-preview:hover,
html.dark-mode body .blog-preview:hover {
    box-shadow: 0 2px 8px rgba(255, 255, 255, 0.08);
}